## Yandex Backend School - Python task
Интернет-магазин подарков хочет запустить акцию в разных регионах. Чтобы стратегия продаж была эффективной, необходимо произвести анализ рынка.  
У магазина есть поставщик, регулярно присылающий выгрузки данных с информацией о жителях. Проанализировав их, можно выявить спрос на подарки в разных городах у жителей разных возрастных групп по месяцам.  

В данном репазитории разработан сервис на python REST API, который сохраняет переданные ему наборы данных (выгрузки от поставщика) c жителями, позволяет их просматривать, редактировать информацию об отдельных жителях, а также анализировать спрос на подарки в разных месяцах для указанного набора данных. Используемая база данных для хранения - sqlite3. 
Сервис развернут на предоставленной виртуальной машине на 0.0.0.0:8080. 

### Файлы:
main.py - основной скрипт REST API  
tests.py - тесты для проверки main.py  
task.pdf - задание

### Описание обработчиков REST API
**POST/imports**  
Принимает на вход набор с данными о жителях в формате  json  и сохраняет его с уникальным идентификатором import_id.  
**PATCH /imports/$import_id/citizens/$citizen_id**  
Изменяет информацию о жителе в указанном наборе данных. На вход подается JSON в котором можно указать любые данные о
жителе, кроме citizen_id. Если в запросе указано поле  relatives  - изменение родственных связей будет двусторонним.  
**GET /imports/$import_id/citizens**  
Возвращает список всех жителей для указанного набора данных.  
**GET /imports/$import_id/citizens/birthdays**  
Возвращает жителей и количество подарков, которые они будут покупать своим ближайшим родственникам (1-го порядка), сгруппированных по месяцам из указанного набора данных.  

### Для запуска программы необходимо:
1. Зайти в Putty  
Для доступа к личной виртуальной машине по SSH использовать следующие данные:  
IP адрес: 84.201.137.165  
Пользователь: entrant  
Пароль: ***
2. Зайти в директорию. В папке вы увидите питоновские скрипты и скрытый файл .venv: 
> cd /home/entrant/project_yandex
3. Активировать виртуальное окружение:  
> source .venv/bin/activate 
4. Набрать команду:
> python main.py 

5. В это время создать новое соединение к виртуальной машине и проделать пункты 1-3.
6. Для запуска тестов набрать команду:
> python tests.py 
7. После проверок в первом соединении выйти из программы main.py (ctrl + C) и набрать команду для деактивации виртуального окружения:
> deactivate  
